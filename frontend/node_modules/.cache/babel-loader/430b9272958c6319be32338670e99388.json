{"ast":null,"code":"import React from 'react';\nimport { useXFlowApp, XFlowAppExtensionMoudle } from '@antv/xflow-core';\nimport { ContextMenuConfig } from './config';\nimport { createModule } from './module';\nimport { ContextMenuRender } from './components';\nexport var CONFIG_TYPE = 'CanvasContextMenu';\nexport var CanvasContextMenu = function CanvasContextMenu(props) {\n  var xflow = useXFlowApp();\n  var canRender = !!xflow;\n  /** 获取ContextMenu的配置 */\n\n  var contextMenuConfig = React.useMemo(function () {\n    return props.config ? props.config : new ContextMenuConfig();\n  }, [props.config]);\n  return React.createElement(XFlowAppExtensionMoudle, {\n    createModule: createModule,\n    config: contextMenuConfig\n  }, canRender && React.createElement(ContextMenuRender, {\n    config: contextMenuConfig\n  }));\n};\nexport var createCtxMenuConfig = function createCtxMenuConfig(addOptions) {\n  return function (props) {\n    /** bridge config and props */\n    var proxy = React.useMemo(function () {\n      return {\n        getValue: function getValue() {\n          return {};\n        }\n      };\n    }, []);\n\n    proxy.getValue = function () {\n      return props;\n    };\n\n    var toolbarConfig = React.useMemo(function () {\n      var config = new ContextMenuConfig();\n      addOptions(config, proxy);\n      return config;\n    }, [proxy]);\n    return toolbarConfig;\n  };\n};","map":null,"metadata":{},"sourceType":"module"}