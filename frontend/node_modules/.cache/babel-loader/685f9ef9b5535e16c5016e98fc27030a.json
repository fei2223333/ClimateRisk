{"ast":null,"code":"import _classCallCheck from \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport JQuery from 'jquery';\nimport { Platform } from '../platform';\nexport var MouseWheelHandle = /*#__PURE__*/function () {\n  function MouseWheelHandle(target, onWheelCallback, onWheelGuard) {\n    _classCallCheck(this, MouseWheelHandle);\n\n    this.animationFrameId = 0;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.eventName = Platform.isEventSupported('wheel') ? 'wheel' : 'mousewheel';\n    this.target = target;\n    this.onWheelCallback = onWheelCallback;\n    this.onWheelGuard = onWheelGuard;\n    this.onWheel = this.onWheel.bind(this);\n    this.didWheel = this.didWheel.bind(this);\n  }\n\n  _createClass(MouseWheelHandle, [{\n    key: \"enable\",\n    value: function enable() {\n      if (Platform.SUPPORT_PASSIVE) {\n        this.target.addEventListener(this.eventName, this.onWheel, {\n          passive: false\n        });\n      } else {\n        JQuery(this.target).on('mousewheel', this.onWheel);\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (Platform.SUPPORT_PASSIVE) {\n        this.target.removeEventListener(this.eventName, this.onWheel);\n      } else {\n        JQuery(this.target).off('mousewheel');\n      }\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(e) {\n      var _this = this;\n\n      if (this.onWheelGuard != null && !this.onWheelGuard(e)) {\n        return;\n      }\n\n      this.deltaX += e.deltaX;\n      this.deltaY += e.deltaY;\n      e.preventDefault();\n      var changed;\n\n      if (this.deltaX !== 0 || this.deltaY !== 0) {\n        e.stopPropagation();\n        changed = true;\n      }\n\n      if (changed === true && this.animationFrameId === 0) {\n        this.animationFrameId = requestAnimationFrame(function () {\n          _this.didWheel(e);\n        });\n      }\n    }\n  }, {\n    key: \"didWheel\",\n    value: function didWheel(e) {\n      this.animationFrameId = 0;\n      this.onWheelCallback(e, this.deltaX, this.deltaY);\n      this.deltaX = 0;\n      this.deltaY = 0;\n    }\n  }]);\n\n  return MouseWheelHandle;\n}();","map":null,"metadata":{},"sourceType":"module"}