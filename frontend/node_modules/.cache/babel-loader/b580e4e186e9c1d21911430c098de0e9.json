{"ast":null,"code":"import { PriorityQueue } from './priorityqueue';\nexport var Dijkstra;\n\n(function (Dijkstra) {\n  function run(adjacencyList, source) {\n    var weight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (u, v) {\n      return 1;\n    };\n    var dist = {};\n    var previous = {};\n    var scanned = {};\n    var queue = new PriorityQueue();\n    dist[source] = 0;\n    Object.keys(adjacencyList).forEach(function (v) {\n      if (v !== source) {\n        dist[v] = Infinity;\n      }\n\n      queue.insert(dist[v], v, v);\n    });\n\n    while (!queue.isEmpty()) {\n      var u = queue.remove();\n      scanned[u] = true;\n      var neighbours = adjacencyList[u] || [];\n\n      for (var i = 0; i < neighbours.length; i += 1) {\n        var v = neighbours[i];\n\n        if (!scanned[v]) {\n          var alt = dist[u] + weight(u, v);\n\n          if (alt < dist[v]) {\n            dist[v] = alt;\n            previous[v] = u;\n            queue.updatePriority(v, alt);\n          }\n        }\n      }\n    }\n\n    return previous;\n  }\n\n  Dijkstra.run = run;\n})(Dijkstra || (Dijkstra = {}));","map":null,"metadata":{},"sourceType":"module"}