{"ast":null,"code":"import React from 'react';\nimport { useExtensionRegistry } from '../../xflow-main/components/extension-context';\nimport { createModule } from '../module';\nimport { CommandConfig } from '../config';\nexport var CommandsRegistry = function CommandsRegistry(props) {\n  /** 生成配置中心 */\n  var extensionRegistry = useExtensionRegistry();\n  /** 获取ContextMenu的配置 */\n\n  var config = React.useMemo(function () {\n    return props.config ? props.config : new CommandConfig();\n  },\n  /* eslint-disable-next-line  */\n  []);\n  React.useEffect(function () {\n    extensionRegistry.addCoreModule({\n      config: config,\n      createModule: createModule\n    });\n    /* eslint-disable-next-line  */\n  }, []);\n  return null;\n};\nexport var createCmdConfig = function createCmdConfig(addOptions) {\n  return function (value) {\n    /** bridge config and value */\n    var valueContainer = React.useMemo(function () {\n      return {\n        getValue: function getValue() {\n          return {};\n        }\n      };\n    }, []);\n\n    valueContainer.getValue = function () {\n      return value;\n    };\n\n    var hookConfig = React.useMemo(function () {\n      var config = new CommandConfig();\n      addOptions(config, valueContainer);\n      return config;\n    }, [valueContainer]);\n    return hookConfig;\n  };\n};","map":null,"metadata":{},"sourceType":"module"}