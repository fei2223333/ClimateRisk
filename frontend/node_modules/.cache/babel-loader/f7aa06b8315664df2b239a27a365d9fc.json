{"ast":null,"code":"import _objectSpread from \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN, HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS, HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_FAILURE, HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR } from './constants';\nimport { message } from 'antd';\nimport Axios from 'axios';\nexport function getCommunityResilenceSearchResults(payload) {\n  return function (dispatch) {\n    // optionally you can have getState as the second argument\n    dispatch({\n      type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN\n    });\n    var mockData = {\n      state: 'state1',\n      county: 'county1',\n      fipsName: 'fipsName1',\n      socialVulnerabilityScore: '10',\n      communityResilienceScore: '12',\n      climateRiskScore: '13'\n    };\n    Axios.defaults.baseURL = 'http://127.0.0.1:8080';\n    var url = \"/CommunityResilience\";\n    return Axios(url, {\n      method: 'post',\n      responseType: 'json',\n      data: payload\n    }).then(function (res) {\n      var data = res.data,\n          headers = res.headers;\n      dispatch({\n        type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS,\n        data: data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS,\n        data: mockData\n      }); // message.error(\"failed to download\")\n    });\n    return promise;\n  };\n}\nexport function dismissGetCommunityResilenceSearchResultsError() {\n  return {\n    type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR\n  };\n}\nexport function useGetCommunityResilenceSearchResults() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return {\n      getCommunityResilenceSearchResultsPending: state.home.getCommunityResilenceSearchResultsPending,\n      getCommunityResilenceSearchResultsError: state.home.getCommunityResilenceSearchResultsError\n    };\n  }, shallowEqual),\n      getCommunityResilenceSearchResultsPending = _useSelector.getCommunityResilenceSearchResultsPending,\n      getCommunityResilenceSearchResultsError = _useSelector.getCommunityResilenceSearchResultsError;\n\n  var boundAction = useCallback(function () {\n    return dispatch(getCommunityResilenceSearchResults.apply(void 0, arguments));\n  }, [dispatch]);\n  var boundDismissError = useCallback(function () {\n    return dispatch(dismissGetCommunityResilenceSearchResultsError());\n  }, [dispatch]);\n  return {\n    getCommunityResilenceSearchResults: boundAction,\n    getCommunityResilenceSearchResultsPending: getCommunityResilenceSearchResultsPending,\n    getCommunityResilenceSearchResultsError: getCommunityResilenceSearchResultsError,\n    dismissGetCommunityResilenceSearchResultsError: boundDismissError\n  };\n}\n\n__signature__(useGetCommunityResilenceSearchResults, \"useDispatch{dispatch}\\nuseSelector{{ getCommunityResilenceSearchResultsPending, getCommunityResilenceSearchResultsError }}\\nuseCallback{boundAction}\\nuseCallback{boundDismissError}\", function () {\n  return [useDispatch, useSelector];\n});\n\nexport function reducer(state, action) {\n  switch (action.type) {\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN:\n      // Just after a request is sent\n      return _objectSpread({}, state, {\n        getCommunityResilenceSearchResultsPending: true,\n        getCommunityResilenceSearchResultsError: null\n      });\n\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS:\n      // The request is success\n      return _objectSpread({}, state, {\n        getCommunityResilenceSearchResultsPending: false,\n        getCommunityResilenceSearchResultsError: null\n      });\n\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_FAILURE:\n      // The request is failed\n      return _objectSpread({}, state, {\n        getCommunityResilenceSearchResultsPending: false,\n        getCommunityResilenceSearchResultsError: action.data.error\n      });\n\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR:\n      // Dismiss the request failure error\n      return _objectSpread({}, state, {\n        getCommunityResilenceSearchResultsError: null\n      });\n\n    default:\n      return state;\n  }\n}\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(getCommunityResilenceSearchResults, \"getCommunityResilenceSearchResults\", \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/src/features/home/redux/getCommunityResilenceSearchResults.js\");\n  reactHotLoader.register(dismissGetCommunityResilenceSearchResultsError, \"dismissGetCommunityResilenceSearchResultsError\", \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/src/features/home/redux/getCommunityResilenceSearchResults.js\");\n  reactHotLoader.register(useGetCommunityResilenceSearchResults, \"useGetCommunityResilenceSearchResults\", \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/src/features/home/redux/getCommunityResilenceSearchResults.js\");\n  reactHotLoader.register(reducer, \"reducer\", \"/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/src/features/home/redux/getCommunityResilenceSearchResults.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/shuge/Documents/project/rekit-project/diagpanel2/ServiceWebsite/frontend/src/features/home/redux/getCommunityResilenceSearchResults.js"],"names":["useEffect","useCallback","useDispatch","useSelector","shallowEqual","HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN","HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS","HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_FAILURE","HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR","message","Axios","getCommunityResilenceSearchResults","payload","dispatch","type","mockData","state","county","fipsName","socialVulnerabilityScore","communityResilienceScore","climateRiskScore","defaults","baseURL","url","method","responseType","data","then","res","headers","catch","err","promise","dismissGetCommunityResilenceSearchResultsError","useGetCommunityResilenceSearchResults","getCommunityResilenceSearchResultsPending","home","getCommunityResilenceSearchResultsError","boundAction","boundDismissError","reducer","action","error"],"mappings":"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","sourcesContent":["import { useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport {\n  HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN,\n  HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS,\n  HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_FAILURE,\n  HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR,\n} from './constants';\nimport { message } from 'antd';\nimport Axios from 'axios';\n\nexport function getCommunityResilenceSearchResults(payload) {\n  return dispatch => {\n    // optionally you can have getState as the second argument\n    dispatch({\n      type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN,\n    });\n\n    const mockData = {\n      state: 'state1',\n      county: 'county1',\n      fipsName: 'fipsName1',\n      socialVulnerabilityScore: '10',\n      communityResilienceScore: '12',\n      climateRiskScore: '13',\n    };\n\n    Axios.defaults.baseURL = 'http://127.0.0.1:8080';\n    const url = `/CommunityResilience`;\n    return Axios(url, {\n      method: 'post',\n      responseType: 'json',\n      data: payload,\n    })\n      .then(res => {\n        const { data, headers } = res;\n        dispatch({\n          type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS,\n          data: data,\n        });\n      })\n      .catch(err => {\n        dispatch({\n          type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS,\n          data: mockData,\n        });\n        // message.error(\"failed to download\")\n      });\n\n    return promise;\n  };\n}\n\nexport function dismissGetCommunityResilenceSearchResultsError() {\n  return {\n    type: HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR,\n  };\n}\n\nexport function useGetCommunityResilenceSearchResults() {\n  const dispatch = useDispatch();\n\n  const { getCommunityResilenceSearchResultsPending, getCommunityResilenceSearchResultsError } = useSelector(\n    state => ({\n      getCommunityResilenceSearchResultsPending: state.home.getCommunityResilenceSearchResultsPending,\n      getCommunityResilenceSearchResultsError: state.home.getCommunityResilenceSearchResultsError,\n    }),\n    shallowEqual\n  );\n\n  const boundAction = useCallback(\n    (...args) => {\n      return dispatch(getCommunityResilenceSearchResults(...args));\n    },\n    [dispatch]\n  );\n\n  const boundDismissError = useCallback(() => {\n    return dispatch(dismissGetCommunityResilenceSearchResultsError());\n  }, [dispatch]);\n\n  return {\n    getCommunityResilenceSearchResults: boundAction,\n    getCommunityResilenceSearchResultsPending,\n    getCommunityResilenceSearchResultsError,\n    dismissGetCommunityResilenceSearchResultsError: boundDismissError,\n  };\n}\n\nexport function reducer(state, action) {\n  switch (action.type) {\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_BEGIN:\n      // Just after a request is sent\n      return {\n        ...state,\n        getCommunityResilenceSearchResultsPending: true,\n        getCommunityResilenceSearchResultsError: null,\n      };\n\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_SUCCESS:\n      // The request is success\n      return {\n        ...state,\n        getCommunityResilenceSearchResultsPending: false,\n        getCommunityResilenceSearchResultsError: null,\n      };\n\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_FAILURE:\n      // The request is failed\n      return {\n        ...state,\n        getCommunityResilenceSearchResultsPending: false,\n        getCommunityResilenceSearchResultsError: action.data.error,\n      };\n\n    case HOME_GET_COMMUNITY_RESILENCE_SEARCH_RESULTS_DISMISS_ERROR:\n      // Dismiss the request failure error\n      return {\n        ...state,\n        getCommunityResilenceSearchResultsError: null,\n      };\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}