{"ast":null,"code":"import _classCallCheck from \"/Users/shuge/Documents/project/rekit-project/ServiceWebsite/Spine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { getJudgeFunction } from '../fn';\nimport { normalizeWheel } from './normalizeWheel';\nimport { requestAnimationFrame } from './animationFrame';\nexport var WheelHandler = function WheelHandler(options) {\n  var _this = this;\n\n  _classCallCheck(this, WheelHandler);\n\n  this.onWheel = function (e) {\n    var normalizedEvent = normalizeWheel(e);\n    var pixelX = normalizedEvent.pixelX,\n        pixelY = normalizedEvent.pixelY;\n    var deltaX = _this.deltaX + pixelX;\n    var deltaY = _this.deltaY + pixelY;\n\n    var handleScrollX = _this.shouldHandleScrollX(deltaX, deltaY);\n\n    var handleScrollY = _this.shouldHandleScrollY(deltaY, deltaX);\n\n    if (!handleScrollX && !handleScrollY) {\n      return;\n    }\n\n    _this.deltaX += handleScrollX ? pixelX : 0;\n    _this.deltaY += handleScrollY ? pixelY : 0;\n    var changed;\n\n    if (_this.deltaX !== 0 || _this.deltaY !== 0) {\n      if (_this.stopPropagation()) {\n        e.stopPropagation();\n      }\n\n      changed = true;\n    }\n\n    if (changed === true && _this.animationFrameID == null) {\n      _this.animationFrameID = requestAnimationFrame(_this.didWheel);\n    }\n  };\n\n  this.didWheel = function () {\n    _this.animationFrameID = null;\n\n    if (_this.callback) {\n      _this.callback(_this.deltaX, _this.deltaY);\n    }\n\n    _this.deltaX = 0;\n    _this.deltaY = 0;\n  };\n\n  this.callback = options.onWheel;\n  this.stopPropagation = getJudgeFunction(options.stopPropagation);\n  this.shouldHandleScrollX = getJudgeFunction(options.shouldHandleScrollX);\n  this.shouldHandleScrollY = getJudgeFunction(options.shouldHandleScrollY);\n  this.deltaX = 0;\n  this.deltaY = 0;\n};","map":null,"metadata":{},"sourceType":"module"}