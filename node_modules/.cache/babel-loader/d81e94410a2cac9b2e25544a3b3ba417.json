{"ast":null,"code":"import { Angle } from '../../geometry';\nexport var watermark = function watermark(img, options) {\n  var width = img.width;\n  var height = img.height;\n  var canvas = document.createElement('canvas');\n  canvas.width = width * 3;\n  canvas.height = height * 3;\n  var ctx = canvas.getContext('2d');\n  var angle = options.angle != null ? -options.angle : -20;\n  var radians = Angle.toRad(angle);\n  var stepX = canvas.width / 4;\n  var stepY = canvas.height / 4;\n\n  for (var i = 0; i < 4; i += 1) {\n    for (var j = 0; j < 4; j += 1) {\n      if ((i + j) % 2 > 0) {\n        ctx.setTransform(1, 0, 0, 1, (2 * i - 1) * stepX, (2 * j - 1) * stepY);\n        ctx.rotate(radians);\n        ctx.drawImage(img, -width / 2, -height / 2, width, height);\n      }\n    }\n  }\n\n  return canvas;\n};","map":null,"metadata":{},"sourceType":"module"}